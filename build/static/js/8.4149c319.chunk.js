(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{374:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var c=t(366),r=t(367),n=t(12);class s{fetchAntrian(e){return a=>{r.a.post("/antrian/tanggal",{tanggal_pelaksanaan:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:n.b,payload:e.data.data})}))}}insertAntrian(e,a){return async t=>{a.preventDefault(),await r.a.get("/profile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e={...e,id_admin:a.data.id_admin}})),r.a.post("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{c.b.success("Sukses menambahkan pasien ke antrian"),t({type:n.c})})).catch((e=>{c.b.error(e.response.data.meta.message)}))}}updateStatusAntrian(e,a,t){return t=>{r.a.put("/antrian/status",{id_antrian:e,id_status:a},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{t({type:n.r}),c.b.success("Berhasil Mengubah Status Antrian")})).catch((e=>{c.b.error(e.response.data.message)}))}}updateAntrian(e){return a=>{r.a.put("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:n.c}),a({type:n.r}),c.b.success("Sukses Merubah Rincian Biaya")})).catch((e=>{c.b.error(e.response.data.message)}))}}cetakKwitansi(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/kwitansi/cetak/".concat(e))}}},376:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var c=t(366),r=t(367),n=t(12);class s{fetchPasien(e){return a=>{r.a.get("/pasien?page=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:n.g,payload:e.data.data})})).catch((e=>{c.b.error(e.response.data.message)}))}}detailPasien(e){return a=>{r.a.get("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:n.f,payload:e.data.data})}))}}searchPasien(e){return a=>{r.a.get("/pasien/cari?search=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:n.g,payload:e.data.data})})).catch((e=>{c.b.error(e.response.data.message)}))}}insertPasien(e,a){r.a.post("/pasien",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a.push("/pasien?nomor_pasien=".concat(e.data.data.nomor_pasien)),c.b.success("Tambah Pasien Sukses")})).catch((e=>{c.b.error(e.response.data.message)}))}deletePasien(e){if(window.confirm("Anda yakin ingin menghapus data pasien ?"))return a=>{r.a.delete("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:n.r}),c.b.success("Berhasil Menghapus Data Pasien")}))}}cetakKartu(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/pasien/cetak/".concat(e))}updatePasien(e,a){r.a.put("/pasien/".concat(e.id_pasien),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a.push("/pasien"),c.b.success("Ubah Data Pasien Sukses")})).catch((e=>{c.b.error(e.response.data.message)}))}}},386:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z' class='ci-primary'/>"]},395:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"]},419:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M199.066,456l-7.379-7.514-3.94-3.9-86.2-86.2.053-.055L17.936,274.665l97.614-97.613,83.565,83.565L398.388,61.344,496,158.958,296.729,358.229,285.469,369.6ZM146.6,358.183l52.459,52.46.1-.1.054.054,52.311-52.311,11.259-11.368L450.746,158.958,398.388,106.6,199.115,305.871,115.55,222.306,63.191,274.665l83.464,83.463Z' class='ci-primary'/>"]},421:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},594:function(e,a,t){"use strict";t.r(a);const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z' class='ci-primary'/>"];var r=t(386),n=t(419);const s=["512 512","<rect width='34.924' height='34.924' x='256' y='95.998' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M16,496H496V16H16ZM48,48H464V464H48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M285.313,359.032a18.123,18.123,0,0,1-15.6,8.966,18.061,18.061,0,0,1-17.327-23.157l35.67-121.277A49.577,49.577,0,0,0,194.7,190.572l-11.718,28.234,29.557,12.266,11.718-28.235a17.577,17.577,0,0,1,33.1,11.7l-35.67,121.277A50.061,50.061,0,0,0,269.709,400a50.227,50.227,0,0,0,43.25-24.853l15.1-25.913-27.646-16.115Z' class='ci-primary'/>"];var i=t(421),o=t(395),l=t(369),d=t(365),h=t(416),j=t.n(h),p=t(1),b=t(124),u=t(125),m=t(372),x=t(374),O=t(12),g=t(24);var y=function(){const e=new Date,a=Object(b.c)((e=>e.antrian.modal.antrian)),t=Object(b.c)((e=>e.antrian.modal.show)),c=Object(b.b)(),r=new x.a;return console.log(a),Object(g.jsxs)(d.H,{visible:t,onClose:()=>c({type:O.c}),children:[Object(g.jsx)(d.K,{onClose:()=>c({type:O.c}),children:Object(g.jsx)(d.L,{children:"Tambahkan Ke Antrian"})}),Object(g.jsxs)(d.t,{onSubmit:e=>{c(r.insertAntrian(a,e))},children:[Object(g.jsx)(d.I,{children:Object(g.jsx)(d.S,{children:Object(g.jsxs)(d.l,{children:[Object(g.jsxs)(d.v,{className:"mb-3",children:[Object(g.jsx)(d.w,{id:"nama",name:"nama",value:a.nama,placeholder:"Nama Pasien",disabled:!0}),Object(g.jsx)(d.x,{children:"Nama Pasien"})]}),Object(g.jsxs)(d.v,{children:[Object(g.jsx)(d.w,{id:"nama",name:"nama",type:"date",min:e.toLocaleDateString("en-CA"),value:a.tanggal_pelaksanaan,onChange:e=>c({type:O.a,payload:{...a,tanggal_pelaksanaan:e.target.value}}),placeholder:"Nama Pasien",required:!0}),Object(g.jsx)(d.x,{children:"Tanggal Pelaksanaan"})]})]})})}),Object(g.jsx)(d.J,{children:Object(g.jsx)(d.e,{type:"submit",children:"Simpan"})})]})]})},f=t(376);a.default=function(){const e=Object(m.useHistory)(),a=Object(b.b)(),[t,h]=Object(p.useState)(1),x=Object(b.c)((e=>e.update)),k=Object(b.c)((e=>e.pasien.data.data)),w=Object(b.c)((e=>e.antrian.modal.antrian)),v=Object(b.c)((e=>e.pasien.data)),A=new f.a;let _=(()=>{const{search:e}=Object(m.useLocation)();return new URLSearchParams(e,[e])})();const S=Object(p.useCallback)(j()((e=>a(A.searchPasien(e))),500),[]);return Object(p.useEffect)((()=>{null==_.get("nomor_pasien")?a(A.fetchPasien(t)):a(A.searchPasien(_.get("nomor_pasien")))}),[t,x]),Object(g.jsxs)(d.S,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(d.l,{xs:12,children:Object(g.jsxs)(d.g,{children:[Object(g.jsxs)(d.k,{children:[Object(g.jsxs)(d.S,{className:"justify-content-between align-items-center",children:[Object(g.jsx)(d.l,{xs:8,children:Object(g.jsx)("strong",{children:"List Data Pasien"})}),Object(g.jsx)(d.l,{xs:4,className:"d-flex justify-content-end",children:Object(g.jsx)(u.b,{to:"/pasien/tambah",children:Object(g.jsx)(d.e,{children:"Tambah Pasien"})})})]}),Object(g.jsx)(d.S,{className:"mt-3 mb-3",children:Object(g.jsx)(d.l,{children:Object(g.jsxs)(d.E,{children:[Object(g.jsx)(d.F,{style:{background:"white",borderRight:"none"},children:Object(g.jsx)(l.a,{icon:c})}),Object(g.jsx)(d.w,{placeholder:"Cari Data Pasien",onChange:e=>(e=>{S(e.target.value)})(e),style:{borderLeft:"none"}})]})})})]}),Object(g.jsx)(d.h,{children:Object(g.jsxs)(d.ab,{responsive:"md",hover:!0,children:[Object(g.jsx)(d.db,{children:Object(g.jsxs)(d.fb,{children:[Object(g.jsx)(d.eb,{scope:"row",children:"No."}),Object(g.jsx)(d.eb,{scope:"row",children:"Nama"}),Object(g.jsx)(d.eb,{scope:"row",children:"Nomor Pasien"}),Object(g.jsx)(d.eb,{scope:"row",children:"Jenis Kelamin"}),Object(g.jsx)(d.eb,{scope:"row",children:"Alamat"}),Object(g.jsx)(d.eb,{scope:"row",children:"Nomor Telepon"}),Object(g.jsx)(d.eb,{scope:"row"})]})}),Object(g.jsx)(d.bb,{style:{overflow:"hidden"},children:(null===k||void 0===k?void 0:k.length)>0?k.map(((t,c)=>Object(g.jsxs)(d.fb,{children:[Object(g.jsx)(d.eb,{scope:"col",children:t.id_pasien}),Object(g.jsx)(d.cb,{children:t.nama}),Object(g.jsx)(d.cb,{children:t.nomor_pasien}),Object(g.jsx)(d.cb,{children:"L"===t.jenis_kelamin?"Pria":"Wanita"}),Object(g.jsx)(d.cb,{width:120,children:t.alamat}),Object(g.jsx)(d.cb,{children:t.no_telepon}),Object(g.jsx)(d.cb,{children:Object(g.jsxs)(d.n,{children:[Object(g.jsx)(d.r,{color:"light",children:Object(g.jsx)(l.a,{icon:r.a})}),Object(g.jsxs)(d.q,{children:[Object(g.jsxs)(d.p,{role:"button",onClick:()=>{a({type:O.a,payload:{...w,nama:t.nama,id_pasien:t.id_pasien}}),a({type:O.d})},children:[Object(g.jsx)(l.a,{icon:n.a,className:"me-2"}),"Tambahkan ke Antrian"]}),Object(g.jsxs)(d.p,{role:"button",onClick:()=>{e.push("/pasien/detail/".concat(t.id_pasien))},children:[Object(g.jsx)(l.a,{icon:s,className:"me-2"}),"Lihat Detail Pasien"]}),Object(g.jsxs)(d.p,{role:"button",onClick:()=>{a({type:O.f,payload:t}),e.push("/pasien/edit/".concat(t.id_pasien))},children:[Object(g.jsx)(l.a,{icon:i.a,className:"me-2"}),"Edit"]}),Object(g.jsxs)(d.p,{role:"button",onClick:()=>a(A.deletePasien(t.id_pasien)),children:[Object(g.jsx)(l.a,{icon:o.a,className:"me-2"}),"Delete"]})]})]})})]},c))):Object(g.jsx)(d.fb,{children:Object(g.jsx)(d.cb,{colSpan:7,children:Object(g.jsx)("h4",{className:"text-center",children:"Data Tidak Ada"})})})})]})}),Object(g.jsx)(d.i,{children:Object(g.jsx)(d.S,{children:Object(g.jsx)(d.l,{xs:12,className:"d-flex justify-content-center",children:Object(g.jsxs)(d.Q,{children:[Object(g.jsx)(d.R,{disabled:null===(null===v||void 0===v?void 0:v.prev_page_url)&&!0,onClick:()=>{h((e=>--e)),window.scrollTo({top:0})},style:{cursor:"pointer"},children:"Sebelumnya"}),Object(g.jsx)(d.R,{disabled:null===(null===v||void 0===v?void 0:v.next_page_url)&&!0,onClick:()=>{h((e=>++e)),window.scrollTo({top:0})},style:{cursor:"pointer"},children:"Selanjutnya"})]})})})})]})})]})}}}]);
//# sourceMappingURL=8.4149c319.chunk.js.map