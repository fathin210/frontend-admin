{"version":3,"sources":["controller/Pasien/PasienController.js","views/pages/pasien/DetailPasien.js"],"names":["PasienController","fetchPasien","page","dispatch","api","get","headers","Authorization","localStorage","getItem","then","res","type","PASIEN_GET_DATA_SUCCESS","payload","data","catch","error","toast","response","message","detailPasien","PASIEN_DETAIL","searchPasien","insertPasien","history","post","push","nomor_pasien","success","e","deletePasien","id_pasien","window","confirm","delete","UPDATE_PAGE","cetakKartu","open","updatePasien","put","DetailPasien","pasien","useSelector","state","detail","useParams","pasienController","useDispatch","useEffect","className","xs","md","gutterY","id","name","value","nama","placeholder","readOnly","alamat","jenis_kelamin","options","label","no_telepon","minLength","onClick","responsive","hover","scope","pendaftaran","length","map","index","nomor_pendaftaran","teknisi","pelayanan","jenis_pelayanan","tarif","tarif_gigi","jumlah_gigi","total_biaya","width","colSpan"],"mappings":"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","file":"static/js/18.88964f75.chunk.js","sourcesContent":["import { toast } from 'react-toastify'\nimport api from 'src/api/api'\nimport { PASIEN_DETAIL, PASIEN_GET_DATA_SUCCESS, UPDATE_PAGE } from 'src/redux/actionTypes'\n\nexport class PasienController {\n  fetchPasien(page) {\n    return (dispatch) => {\n      api\n        .get(`/pasien?page=${page}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_GET_DATA_SUCCESS,\n            payload: res.data.data,\n          })\n        })\n        .catch((error) => {\n          toast.error(error.response.data.message)\n        })\n    }\n  }\n\n  detailPasien(data) {\n    return (dispatch) => {\n      api\n        .get(`/pasien/${data}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_DETAIL,\n            payload: res.data.data,\n          })\n        })\n    }\n  }\n\n  searchPasien(data) {\n    return (dispatch) => {\n      api\n        .get(`/pasien/cari?search=${data}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_GET_DATA_SUCCESS,\n            payload: res.data.data,\n          })\n        })\n        .catch((error) => {\n          toast.error(error.response.data.message)\n        })\n    }\n  }\n\n  insertPasien(data, history) {\n    api\n      .post('/pasien', data, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then((res) => {\n        history.push(`/pasien?nomor_pasien=${res.data.data.nomor_pasien}`)\n        toast.success('Tambah Pasien Sukses')\n      })\n      .catch((e) => {\n        toast.error(e.response.data.message)\n      })\n  }\n\n  deletePasien(id_pasien) {\n    if (window.confirm('Anda yakin ingin menghapus data pasien ?')) {\n      return (dispatch) => {\n        api\n          .delete(`/pasien/${id_pasien}`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n            },\n          })\n          .then(() => {\n            dispatch({ type: UPDATE_PAGE })\n            toast.success('Berhasil Menghapus Data Pasien')\n          })\n      }\n    }\n  }\n\n  cetakKartu(id_pasien) {\n    window.open(`https://api-setiakawan.gazebo-skripsi.my.id/api/pasien/cetak/${id_pasien}`)\n  }\n\n  updatePasien(data, history) {\n    api\n      .put(`/pasien/${data.id_pasien}`, data, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then(() => {\n        history.push('/pasien')\n        toast.success('Ubah Data Pasien Sukses')\n      })\n      .catch((e) => {\n        toast.error(e.response.data.message)\n      })\n  }\n}\n","import {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CFormFloating,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableDataCell,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from '@coreui/react'\nimport React from 'react'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { PasienController } from 'src/controller/Pasien/PasienController'\n\nfunction DetailPasien() {\n  const pasien = useSelector((state) => state.pasien.detail)\n  const { id_pasien } = useParams()\n  const pasienController = new PasienController()\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(pasienController.detailPasien(id_pasien))\n  }, [])\n\n  return (\n    <>\n      <CRow className=\"justify-content-center mb-3\">\n        <CCol xs={12} md={8}>\n          <CCard>\n            <CCardHeader>Data Pasien</CCardHeader>\n            <CCardBody>\n              <CRow className=\"mb-3\" xs={{ gutterY: 3 }}>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormInput\n                      id=\"nama\"\n                      name=\"nama\"\n                      value={pasien?.nama}\n                      placeholder=\"Nama Pasien\"\n                      readOnly\n                    />\n                    <CFormLabel>Nama Pasien</CFormLabel>\n                  </CFormFloating>\n                </CCol>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormInput\n                      name=\"alamat\"\n                      placeholder=\"Alamat\"\n                      value={pasien?.alamat}\n                      readOnly\n                    />\n                    <CFormLabel>Alamat</CFormLabel>\n                  </CFormFloating>\n                </CCol>\n              </CRow>\n              <CRow xs={{ gutterY: 3 }}>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormSelect\n                      name=\"jenis_kelamin\"\n                      value={pasien?.jenis_kelamin}\n                      readOnly\n                      options={[\n                        'Silahkan Pilih',\n                        { label: 'Laki-laki', value: 'L' },\n                        { label: 'Perempuan', value: 'P' },\n                      ]}\n                    ></CFormSelect>\n                    <CFormLabel>Jenis Kelamin</CFormLabel>\n                  </CFormFloating>\n                </CCol>\n                <CCol xs={12} md={6}>\n                  <CFormFloating className=\"mb-3\">\n                    <CFormInput\n                      name=\"no_telepon\"\n                      value={pasien?.no_telepon}\n                      minLength={7}\n                      placeholder=\"Nomor Telepon\"\n                      readOnly\n                    />\n                    <CFormLabel>Nomor Telepon</CFormLabel>\n                  </CFormFloating>\n                </CCol>\n              </CRow>\n              <CRow>\n                <CCol>\n                  <div className=\"d-grid\">\n                    <CButton onClick={() => pasienController.cetakKartu(pasien.id_pasien)}>\n                      Cetak Kartu\n                    </CButton>\n                  </div>\n                </CCol>\n              </CRow>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n      <CRow>\n        <CCol xs={12}>\n          <CCard>\n            <CCardHeader>\n              <CRow className=\"justify-content-between align-items-center\">\n                <CCol xs={8}>\n                  <strong>List Data Kunjungan Pasien</strong>\n                </CCol>\n              </CRow>\n            </CCardHeader>\n            <CCardBody>\n              <CTable responsive=\"md\" hover>\n                <CTableHead>\n                  <CTableRow>\n                    <CTableHeaderCell scope=\"row\">No.</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Nomor Antrian</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Teknisi</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Jenis Pelayanan</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Tarif Gigi</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Jumlah Gigi</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\">Total Biaya</CTableHeaderCell>\n                    <CTableHeaderCell scope=\"row\"></CTableHeaderCell>\n                  </CTableRow>\n                </CTableHead>\n                <CTableBody>\n                  {/* Disini map data dari api */}\n                  {pasien.pendaftaran.length > 0 ? (\n                    pasien.pendaftaran?.map((data, index) => {\n                      return (\n                        <CTableRow key={index}>\n                          <CTableHeaderCell scope=\"col\">{++index}</CTableHeaderCell>\n                          <CTableDataCell>{data.nomor_pendaftaran}</CTableDataCell>\n                          <CTableDataCell>{data.teknisi?.nama}</CTableDataCell>\n                          <CTableDataCell>{data.pelayanan?.jenis_pelayanan}</CTableDataCell>\n                          <CTableDataCell>{data.tarif?.tarif_gigi}</CTableDataCell>\n                          <CTableDataCell>{data?.jumlah_gigi}</CTableDataCell>\n                          <CTableDataCell>{data.total_biaya}</CTableDataCell>\n                          <CTableDataCell width={120}>{data.alamat}</CTableDataCell>\n                          <CTableDataCell>{data.no_telepon}</CTableDataCell>\n                        </CTableRow>\n                      )\n                    })\n                  ) : (\n                    <CTableRow>\n                      <CTableDataCell colSpan={7}>\n                        <h4 className=\"text-center\">Data Tidak Ada</h4>\n                      </CTableDataCell>\n                    </CTableRow>\n                  )}\n                </CTableBody>\n              </CTable>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default DetailPasien\n"],"sourceRoot":""}