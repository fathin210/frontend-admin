(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{376:function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n(366),s=n(367),i=n(12);class r{fetchPasien(e){return a=>{s.a.get("/pasien?page=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.g,payload:e.data.data})})).catch((e=>{t.b.error(e.response.data.message)}))}}detailPasien(e){return a=>{s.a.get("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.f,payload:e.data.data})}))}}searchPasien(e){return a=>{s.a.get("/pasien/cari?search=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.g,payload:e.data.data})})).catch((e=>{t.b.error(e.response.data.message)}))}}insertPasien(e,a){s.a.post("/pasien",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a.push("/pasien?nomor_pasien=".concat(e.data.data.nomor_pasien)),t.b.success("Tambah Pasien Sukses")})).catch((e=>{t.b.error(e.response.data.message)}))}deletePasien(e){if(window.confirm("Anda yakin ingin menghapus data pasien ?"))return a=>{s.a.delete("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:i.r}),t.b.success("Berhasil Menghapus Data Pasien")}))}}cetakKartu(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/pasien/cetak/".concat(e))}updatePasien(e,a){s.a.put("/pasien/".concat(e.id_pasien),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a.push("/pasien"),t.b.success("Ubah Data Pasien Sukses")})).catch((e=>{t.b.error(e.response.data.message)}))}}},589:function(e,a,n){"use strict";n.r(a);var t=n(365),s=n(447),i=n(1),r=n(124),c=n(18),l=n(372),o=n(376),d=n(448),h=n(24);const u=d.b().shape({nama:d.c().required("Field Nama harus diisi!"),alamat:d.c().required("Field Alamat harus diisi!"),jenis_kelamin:d.c().required("Field Jenis Kelamin harus diisi!"),no_telepon:d.a().min(9999999999,"Nomor Harus Lebih Dari 10 Karakter").max(9999999999999,"Nomor Harus Kurang Dari 13 Karakter").required("Field Nomor Telepon harus diisi!")});a.default=function(){const e=Object(r.b)(),{id_pasien:a}=Object(c.useParams)(),[n,d]=Object(i.useState)(!1),j=Object(l.useHistory)(),m=Object(r.c)((e=>e.pasien.detail)),b=new o.a;Object(i.useEffect)((()=>{e(b.detailPasien(a))}),[]);const p=Object(s.a)({initialValues:m,validationSchema:u,onSubmit:e=>{console.log(e),b.updatePasien(e,j)}});return Object(h.jsx)(t.S,{className:"justify-content-center",children:Object(h.jsx)(t.l,{xs:12,md:8,children:Object(h.jsxs)(t.g,{children:[Object(h.jsx)(t.k,{children:"Formulir Edit Data Pasien"}),Object(h.jsx)(t.h,{children:Object(h.jsxs)(t.t,{onSubmit:e=>{d(!0),p.handleSubmit(e)},noValidate:!0,validated:n,children:[Object(h.jsxs)(t.S,{className:"mb-3",xs:{gutterY:3},children:[Object(h.jsx)(t.l,{xs:12,md:6,children:Object(h.jsxs)(t.v,{children:[Object(h.jsx)(t.w,{id:"nama",name:"nama",value:p.values.nama,onChange:p.handleChange,placeholder:"Nama Pasien",required:!0}),Object(h.jsx)(t.x,{children:"Nama Pasien"}),p.touched.nama&&Boolean(p.errors.nama)?Object(h.jsx)(t.u,{invalid:!0,children:p.errors.nama}):Object(h.jsx)(t.u,{valid:!0,children:"Nama sudah valid"})]})}),Object(h.jsx)(t.l,{xs:12,md:6,children:Object(h.jsxs)(t.v,{children:[Object(h.jsx)(t.w,{name:"alamat",placeholder:"Alamat",value:p.values.alamat,onChange:p.handleChange,required:!0}),Object(h.jsx)(t.x,{children:"Alamat"}),p.touched.alamat&&Boolean(p.errors.alamat)?Object(h.jsx)(t.u,{invalid:!0,children:p.errors.alamat}):Object(h.jsx)(t.u,{valid:!0,children:"Alamat sudah valid"})]})})]}),Object(h.jsxs)(t.S,{xs:{gutterY:3},children:[Object(h.jsx)(t.l,{xs:12,md:6,children:Object(h.jsxs)(t.v,{children:[Object(h.jsx)(t.y,{name:"jenis_kelamin",value:p.values.jenis_kelamin,onChange:p.handleChange,required:!0,options:[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}]}),Object(h.jsx)(t.x,{children:"Jenis Kelamin"}),p.touched.jenis_kelamin&&Boolean(p.errors.jenis_kelamin)?Object(h.jsx)(t.u,{invalid:!0,children:p.errors.jenis_kelamin}):Object(h.jsx)(t.u,{valid:!0,children:"Jenis Kelamin sudah valid"})]})}),Object(h.jsx)(t.l,{xs:12,md:6,children:Object(h.jsxs)(t.v,{className:"mb-3",children:[Object(h.jsx)(t.w,{name:"no_telepon",type:"number",value:p.values.no_telepon,onChange:p.handleChange,min:9999999999,max:9999999999999,placeholder:"Nomor Telepon",required:!0}),Object(h.jsx)(t.x,{children:"Nomor Telepon"}),p.touched.no_telepon&&Boolean(p.errors.no_telepon)?Object(h.jsx)(t.u,{invalid:!0,children:p.errors.no_telepon}):Object(h.jsx)(t.u,{valid:!0,children:"Nomor Telepon sudah valid"})]})})]}),Object(h.jsx)(t.S,{children:Object(h.jsx)(t.l,{children:Object(h.jsx)("div",{className:"d-grid",children:Object(h.jsx)(t.e,{type:"submit",children:"Simpan Data"})})})})]})})]})})})}}}]);
//# sourceMappingURL=20.a7478a85.chunk.js.map