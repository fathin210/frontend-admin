(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{376:function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n(366),s=n(367),i=n(12);class r{fetchPasien(e){return a=>{s.a.get("/pasien?page=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.g,payload:e.data.data})})).catch((e=>{t.b.error(e.response.data.message)}))}}detailPasien(e){return a=>{s.a.get("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.f,payload:e.data.data})}))}}searchPasien(e){return a=>{s.a.get("/pasien/cari?search=".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:i.g,payload:e.data.data})})).catch((e=>{t.b.error(e.response.data.message)}))}}insertPasien(e,a){s.a.post("/pasien",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a.push("/pasien?nomor_pasien=".concat(e.data.data.nomor_pasien)),t.b.success("Tambah Pasien Sukses")})).catch((e=>{t.b.error(e.response.data.message)}))}deletePasien(e){if(window.confirm("Anda yakin ingin menghapus data pasien ?"))return a=>{s.a.delete("/pasien/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:i.r}),t.b.success("Berhasil Menghapus Data Pasien")}))}}cetakKartu(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/pasien/cetak/".concat(e))}updatePasien(e,a){s.a.put("/pasien/".concat(e.id_pasien),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a.push("/pasien"),t.b.success("Ubah Data Pasien Sukses")})).catch((e=>{t.b.error(e.response.data.message)}))}}},588:function(e,a,n){"use strict";n.r(a);var t=n(365),s=n(447),i=n(1),r=(n(124),n(372)),c=n(376),l=n(448),o=n(24);const d=l.b().shape({nama:l.c().required("Field Nama harus diisi!"),alamat:l.c().required("Field Alamat harus diisi!"),jenis_kelamin:l.c().max(1,"Isi field terlalu panjang").required("Field Jenis Kelamin harus diisi!"),no_telepon:l.a().min(9999999999,"Nomor Harus Lebih Dari 10 Karakter").max(9999999999999,"Nomor Harus Kurang Dari 13 Karakter").required("Field Nomor Telepon harus diisi!")});a.default=function(){const[e,a]=Object(i.useState)(!1),n=Object(r.useHistory)(),l=new c.a,h=Object(s.a)({initialValues:{nama:"",alamat:"",jenis_kelamin:"L",no_telepon:""},validationSchema:d,onSubmit:e=>{console.log(e),a(!0),"0"==e.no_telepon.toString().charAt(0)&&(e={...e,no_telepon:e.no_telepon.substring(1)},console.log(e.no_telepon)),l.insertPasien(e,n)}});return Object(o.jsx)(t.S,{className:"justify-content-center",children:Object(o.jsx)(t.l,{xs:12,md:8,children:Object(o.jsxs)(t.g,{children:[Object(o.jsx)(t.k,{children:"Formulir Tambah Pasien"}),Object(o.jsx)(t.h,{children:Object(o.jsxs)(t.t,{onSubmit:e=>{a(!0),h.handleSubmit(e)},noValidate:!0,validated:e,children:[Object(o.jsxs)(t.S,{className:"mb-3",xs:{gutterY:3},children:[Object(o.jsx)(t.l,{xs:12,md:6,children:Object(o.jsxs)(t.v,{children:[Object(o.jsx)(t.w,{id:"nama",name:"nama",value:h.values.nama,onChange:h.handleChange,placeholder:"Nama Pasien",required:!0}),Object(o.jsx)(t.x,{children:"Nama Pasien"}),h.touched.nama&&Boolean(h.errors.nama)?Object(o.jsx)(t.u,{invalid:!0,children:h.errors.nama}):Object(o.jsx)(t.u,{valid:!0,children:"Nama sudah valid"})]})}),Object(o.jsx)(t.l,{xs:12,md:6,children:Object(o.jsxs)(t.v,{children:[Object(o.jsx)(t.w,{name:"alamat",placeholder:"Alamat",value:h.values.alamat,onChange:h.handleChange,required:!0}),Object(o.jsx)(t.x,{children:"Alamat"}),h.touched.alamat&&Boolean(h.errors.alamat)?Object(o.jsx)(t.u,{invalid:!0,children:h.errors.alamat}):Object(o.jsx)(t.u,{valid:!0,children:"Alamat sudah valid"})]})})]}),Object(o.jsxs)(t.S,{xs:{gutterY:3},children:[Object(o.jsx)(t.l,{xs:12,md:6,children:Object(o.jsxs)(t.v,{children:[Object(o.jsx)(t.y,{name:"jenis_kelamin",value:h.values.jenis_kelamin,onChange:h.handleChange,options:[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}]}),Object(o.jsx)(t.x,{children:"Jenis Kelamin"}),h.touched.jenis_kelamin&&Boolean(h.errors.jenis_kelamin)?Object(o.jsx)(t.u,{invalid:!0,children:h.errors.jenis_kelamin}):Object(o.jsx)(t.u,{valid:!0,children:"Jenis Kelamin sudah valid"})]})}),Object(o.jsx)(t.l,{xs:12,md:6,children:Object(o.jsxs)(t.v,{className:"mb-3",children:[Object(o.jsx)(t.w,{name:"no_telepon",type:"number",value:h.values.no_telepon,onChange:h.handleChange,min:9999999999,max:9999999999999,required:!0,placeholder:"Nomor Telepon"}),Object(o.jsx)(t.x,{children:"Nomor Telepon"}),h.touched.no_telepon&&Boolean(h.errors.no_telepon)?Object(o.jsx)(t.u,{invalid:!0,children:h.errors.no_telepon}):Object(o.jsx)(t.u,{valid:!0,children:"Nomor Telepon sudah valid"})]})})]}),Object(o.jsx)(t.S,{children:Object(o.jsx)(t.l,{children:Object(o.jsx)("div",{className:"d-grid",children:Object(o.jsx)(t.e,{type:"submit",children:"Simpan Data"})})})})]})})]})})})}}}]);
//# sourceMappingURL=19.74b3b3ba.chunk.js.map