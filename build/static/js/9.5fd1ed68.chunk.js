(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{374:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var r=t(366),n=t(367),c=t(12);class o{fetchAntrian(e){return a=>{n.a.post("/antrian/tanggal",{tanggal_pelaksanaan:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:c.b,payload:e.data.data})}))}}insertAntrian(e,a){return async t=>{a.preventDefault(),await n.a.get("/profile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e={...e,id_admin:a.data.id_admin}})),n.a.post("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{r.b.success("Sukses menambahkan pasien ke antrian"),t({type:c.c})})).catch((e=>{r.b.error(e.response.data.meta.message)}))}}updateStatusAntrian(e,a,t){return t=>{n.a.put("/antrian/status",{id_antrian:e,id_status:a},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{t({type:c.r}),r.b.success("Berhasil Mengubah Status Antrian")})).catch((e=>{r.b.error(e.response.data.message)}))}}updateAntrian(e){return a=>{n.a.put("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.c}),a({type:c.r}),r.b.success("Sukses Merubah Rincian Biaya")})).catch((e=>{r.b.error(e.response.data.message)}))}}cetakKwitansi(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/kwitansi/cetak/".concat(e))}}},386:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));const r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z' class='ci-primary'/>"]},395:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));const r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"]},406:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var r=t(366),n=t(367),c=t(12);class o{fetchBooking(e){return a=>{n.a.post("/booking",{tanggal:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:c.e,payload:e.data.data})})).catch((e=>{r.b.error(e.response.data.message)}))}}deleteBooking(e){return a=>{n.a.delete("/booking/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),r.b.success("Berhasil Menghapus Data Booking")})).catch((e=>{r.b.error(e.response.data.message)}))}}fetchBookingBatal(e){return a=>{n.a.post("/booking/laporan",{bulan:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:c.e,payload:e.data.data})})).catch((e=>{r.b.error(e.response.data.message)}))}}}},597:function(e,a,t){"use strict";t.r(a);var r=t(386);const n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z' class='ci-primary'/>"],c=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"];var o=t(395),i=t(369),s=t(365),l=t(1),d=t(124),h=t(372),b=t(366),p=t(374),u=t(378),j=t(406),g=t(24);a.default=function(){var e=new Date;const[a,t]=Object(l.useState)(e.toLocaleDateString("en-CA")),m=Object(d.c)((e=>e.update)),k=Object(d.c)((e=>e.booking.data)),x=new j.a,O=new p.a,y=new u.a,v=Object(d.b)(),f=Object(h.useHistory)();return Object(l.useEffect)((()=>{y.profile().then((()=>v(x.fetchBooking(a)))).catch((()=>{localStorage.clear(),f.push("/login"),b.b.error("Silahkan Login Kembali")}))}),[a,m]),Object(g.jsx)(s.S,{children:Object(g.jsx)(s.l,{xs:12,children:Object(g.jsxs)(s.g,{children:[Object(g.jsxs)(s.k,{children:[Object(g.jsx)(s.S,{className:"justify-content-between align-items-center",children:Object(g.jsx)(s.l,{xs:8,children:Object(g.jsx)("strong",{children:"List Data Booking"})})}),Object(g.jsx)(s.S,{className:"mt-3 mb-3",children:Object(g.jsx)(s.l,{children:Object(g.jsx)(s.w,{type:"date",value:a,onChange:e=>t(e.target.value)})})})]}),Object(g.jsx)(s.h,{children:Object(g.jsxs)(s.ab,{responsive:"md",hover:!0,children:[Object(g.jsx)(s.db,{children:Object(g.jsxs)(s.fb,{children:[Object(g.jsx)(s.eb,{scope:"row",children:"No."}),Object(g.jsx)(s.eb,{scope:"row",children:"Kode Booking"}),Object(g.jsx)(s.eb,{scope:"row",children:"Tanggal"}),Object(g.jsx)(s.eb,{scope:"row",children:"Jam"}),Object(g.jsx)(s.eb,{scope:"row",children:"Nama"}),Object(g.jsx)(s.eb,{scope:"row"})]})}),Object(g.jsx)(s.bb,{children:k.length>0?null===k||void 0===k?void 0:k.map(((e,a)=>{var t;return Object(g.jsxs)(s.fb,{children:[Object(g.jsx)(s.eb,{scope:"col",children:++a}),Object(g.jsx)(s.cb,{children:null===e||void 0===e?void 0:e.nomor_booking}),Object(g.jsx)(s.cb,{children:null===e||void 0===e?void 0:e.tanggal}),Object(g.jsx)(s.cb,{children:null===e||void 0===e?void 0:e.jam}),Object(g.jsx)(s.cb,{children:null===(t=e.pasien)||void 0===t?void 0:t.nama}),Object(g.jsx)(s.cb,{children:Object(g.jsxs)(s.n,{children:[Object(g.jsx)(s.r,{color:"light",children:Object(g.jsx)(i.a,{icon:r.a})}),Object(g.jsxs)(s.q,{children:[Object(g.jsxs)(s.p,{role:"button",onClick:()=>{var a,t,r;window.open("https://web.whatsapp.com/send?phone=62".concat(null===(a=e.pasien)||void 0===a?void 0:a.no_telepon,"&text=SETIA+KAWAN%0APesan+ini+merupakan+pengingat+booking+anda+dengan+data+sebagai+berikut:%0ABooking+Tanggal:+").concat(e.tanggal,"%0AJam:+").concat(null===e||void 0===e?void 0:e.jam,"%0AKode+Booking:+").concat(e.nomor_booking,"%0ANama:+").concat(null===(t=e.pasien)||void 0===t?void 0:t.nama,"%0AAlamat:+").concat(null===(r=e.pasien)||void 0===r?void 0:r.alamat,"%0ATerimakasih+atas+perhatiannya+bila+ada+pertanyaan+lebih+lanjut,+silahkan+chat+pada+nomor+ini&app_absent=0"))},children:[Object(g.jsx)(i.a,{icon:n,className:"me-2"}),"Kirim Reminder"]}),Object(g.jsxs)(s.p,{role:"button",onClick:a=>{v(x.deleteBooking(e.id_booking)),v(O.insertAntrian({id_pasien:e.id_pasien,tanggal_pelaksanaan:e.tanggal},a))},children:[Object(g.jsx)(i.a,{icon:c,className:"me-2"}),"Masukkan Ke Antrian"]}),Object(g.jsxs)(s.p,{role:"button",onClick:()=>{window.confirm("Anda yakin ingin menghapus data booking ?")&&v(x.deleteBooking(e.id_booking))},children:[Object(g.jsx)(i.a,{icon:o.a,className:"me-2"}),"Batalkan"]}),Object(g.jsx)(s.p,{})]})]})})]},a)})):Object(g.jsx)(s.fb,{children:Object(g.jsx)(s.cb,{colSpan:7,children:Object(g.jsx)("h4",{className:"text-center",children:"Data Tidak Ada"})})})})]})})]})})})}}}]);
//# sourceMappingURL=9.5fd1ed68.chunk.js.map