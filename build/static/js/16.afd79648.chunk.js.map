{"version":3,"sources":["../node_modules/@coreui/icons/js/free/cil-check.js","../node_modules/@coreui/icons/js/free/cil-x.js","../node_modules/@coreui/icons/js/free/cil-av-timer.js","../node_modules/@coreui/icons/js/free/cil-list.js","views/pages/dashboard/Dashboard.js"],"names":["cilCheck","cilX","cilAvTimer","cilList","Dashboard","date","Date","dataOneWeek","setDataOneWeek","useState","tanggal","selesai","batal","dataStatus","setDataStatus","total","menunggu","ditangani","authController","AuthController","history","useHistory","useEffect","profile","then","axios","get","headers","Authorization","localStorage","getItem","res","data","catch","e","clear","push","toast","error","xs","md","lg","className","color","padding","icon","height","title","value","length","jumlah_pasien","cilUser","sm","id","toLocaleString","month","getFullYear","type","labels","map","item","tanggal_pelaksanaan","datasets","label","backgroundColor"],"mappings":"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","file":"static/js/16.afd79648.chunk.js","sourcesContent":["export const cilCheck = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M199.066,456l-7.379-7.514-3.94-3.9-86.2-86.2.053-.055L17.936,274.665l97.614-97.613,83.565,83.565L398.388,61.344,496,158.958,296.729,358.229,285.469,369.6ZM146.6,358.183l52.459,52.46.1-.1.054.054,52.311-52.311,11.259-11.368L450.746,158.958,398.388,106.6,199.115,305.871,115.55,222.306,63.191,274.665l83.464,83.463Z' class='ci-primary'/>\"]","export const cilX = [\"512 512\",\"<polygon fill='var(--ci-primary-color, currentColor)' points='427.314 107.313 404.686 84.687 256 233.373 107.314 84.687 84.686 107.313 233.373 256 84.686 404.687 107.314 427.313 256 278.627 404.686 427.313 427.314 404.687 278.627 256 427.314 107.313' class='ci-primary'/>\"]","export const cilAvTimer = [\"512 512\",\"<rect width='32' height='32' x='240' y='384' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='96' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='384' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M414.392,97.608A222.332,222.332,0,0,0,272,32.567V32H240v96h32V64.672C370.41,72.83,448,155.519,448,256c0,105.869-86.131,192-192,192S64,361.869,64,256a191.61,191.61,0,0,1,56.408-135.942l115.624,145.88,25.078-19.876L124.6,73.828l-12.606,10.59a224,224,0,1,0,302.4,13.19Z' class='ci-primary'/>\"]","export const cilList = [\"512 512\",\"<rect width='264' height='32' x='208' y='80' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M40,96a64,64,0,1,0,64-64A64.072,64.072,0,0,0,40,96Zm64-32A32,32,0,1,1,72,96,32.036,32.036,0,0,1,104,64Z' class='ci-primary'/><rect width='264' height='32' x='208' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,320a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,320Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,224Z' class='ci-primary'/><rect width='264' height='32' x='208' y='400' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,480a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,480Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,384Z' class='ci-primary'/>\"]","import React, { useEffect, useState } from 'react'\nimport { CCard, CCardBody, CCol, CRow, CWidgetStatsF } from '@coreui/react'\nimport { CChart } from '@coreui/react-chartjs'\nimport CIcon from '@coreui/icons-react'\nimport { cilUser, cilAvTimer, cilCheck, cilX, cilList } from '@coreui/icons'\nimport axios from 'axios'\nimport { AuthController } from 'src/controller/Auth/AuthController'\nimport { toast } from 'react-toastify'\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min'\n\nconst Dashboard = () => {\n  var date = new Date()\n  const [dataOneWeek, setDataOneWeek] = useState({\n    tanggal: [],\n    selesai: [],\n    batal: [],\n  })\n  const [dataStatus, setDataStatus] = useState({\n    total: [],\n    menunggu: [],\n    ditangani: [],\n    selesai: [],\n    batal: [],\n  })\n\n  const authController = new AuthController()\n  const history = useHistory()\n\n  const getDataOneStatus = () => {\n    axios\n      .get('https://api-setiakawan.gazebo-skripsi.my.id/api/info-antrian/day', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then((res) => {\n        setDataStatus(res.data.data)\n      })\n  }\n\n  const getDataOneWeek = () => {\n    axios\n      .get('https://api-setiakawan.gazebo-skripsi.my.id/api/admin/info-antrian/week', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then((res) => {\n        setDataOneWeek(res.data.data)\n      })\n  }\n\n  useEffect(() => {\n    authController\n      .profile()\n      .then(() => {\n        getDataOneStatus()\n        getDataOneWeek()\n      })\n      .catch((e) => {\n        localStorage.clear()\n        history.push('/login')\n        toast.error('Silahkan Login Kembali')\n      })\n  }, [])\n\n  return (\n    <>\n      <CRow>\n        <CCol>\n          <strong>Data Antrian Hari Ini</strong>\n        </CCol>\n      </CRow>\n      <CRow>\n        <CCol xs={12} md={6} lg={3}>\n          <CWidgetStatsF\n            className=\"mb-3\"\n            color=\"primary\"\n            padding={false}\n            icon={<CIcon icon={cilAvTimer} height={24} />}\n            title=\"Menunggu\"\n            value={dataStatus.menunggu?.length === 0 ? '0' : dataStatus.menunggu[0].jumlah_pasien}\n          />\n        </CCol>\n        <CCol xs={12} md={6} lg={3}>\n          <CWidgetStatsF\n            className=\"mb-3\"\n            color=\"secondary\"\n            padding={false}\n            icon={<CIcon icon={cilList} height={24} />}\n            title=\"Sedang Ditangani\"\n            value={dataStatus.ditangani?.length === 0 ? '0' : dataStatus.ditangani[0].jumlah_pasien}\n          />\n        </CCol>\n        <CCol xs={12} md={6} lg={3}>\n          <CWidgetStatsF\n            className=\"mb-3\"\n            color=\"success\"\n            padding={false}\n            icon={<CIcon icon={cilCheck} height={24} />}\n            title=\"Selesai\"\n            value={dataStatus.selesai?.length === 0 ? '0' : dataStatus.selesai[0].jumlah_pasien}\n          />\n        </CCol>\n        <CCol xs={12} md={6} lg={3}>\n          <CWidgetStatsF\n            className=\"mb-3\"\n            color=\"danger\"\n            padding={false}\n            icon={<CIcon icon={cilX} height={24} />}\n            title=\"Batal\"\n            value={dataStatus.batal?.length === 0 ? '0' : dataStatus.batal[0].jumlah_pasien}\n          />\n        </CCol>\n      </CRow>\n      <CRow>\n        <CCol xs={12}>\n          <CWidgetStatsF\n            className=\"mb-3\"\n            color=\"info\"\n            padding={false}\n            icon={<CIcon icon={cilUser} height={24} />}\n            title=\"Antrian Hari Ini\"\n            value={dataStatus.total?.length === 0 ? '0' : dataStatus.total[0]?.jumlah_pasien}\n          />\n        </CCol>\n      </CRow>\n      <CCard className=\"mb-4\">\n        <CCardBody>\n          <CRow>\n            <CCol sm={5}>\n              <h4 id=\"traffic\" className=\"card-title mb-0\">\n                Pasien\n              </h4>\n              <div className=\"small text-medium-emphasis\">\n                {`${date.toLocaleString('id-ID', { month: 'long' })} ${date.getFullYear()}`}\n              </div>\n            </CCol>\n          </CRow>\n          <CChart\n            type=\"bar\"\n            data={{\n              labels: dataOneWeek.tanggal?.map((item) => item?.tanggal_pelaksanaan),\n              datasets: [\n                {\n                  label: 'Jumlah Pasien',\n                  backgroundColor: 'blue',\n                  data: dataOneWeek.tanggal?.map((item) => item?.jumlah_pasien),\n                },\n              ],\n            }}\n            labels=\"months\"\n          />\n        </CCardBody>\n      </CCard>\n    </>\n  )\n}\n\nexport default Dashboard\n"],"sourceRoot":""}