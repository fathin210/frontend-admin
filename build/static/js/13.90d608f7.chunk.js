(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{374:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var i=t(366),n=t(367),c=t(12);class s{fetchAntrian(e){return a=>{n.a.post("/antrian/tanggal",{tanggal_pelaksanaan:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((e=>{a({type:c.b,payload:e.data.data})}))}}insertAntrian(e,a){return async t=>{a.preventDefault(),await n.a.get("/profile",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e={...e,id_admin:a.data.id_admin}})),n.a.post("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{i.b.success("Sukses menambahkan pasien ke antrian"),t({type:c.c})})).catch((e=>{i.b.error(e.response.data.meta.message)}))}}updateStatusAntrian(e,a,t){return t=>{n.a.put("/antrian/status",{id_antrian:e,id_status:a},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{t({type:c.r}),i.b.success("Berhasil Mengubah Status Antrian")})).catch((e=>{i.b.error(e.response.data.message)}))}}updateAntrian(e){return a=>{n.a.put("/antrian",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.c}),a({type:c.r}),i.b.success("Sukses Merubah Rincian Biaya")})).catch((e=>{i.b.error(e.response.data.message)}))}}cetakKwitansi(e){window.open("https://api-setiakawan.gazebo-skripsi.my.id/api/kwitansi/cetak/".concat(e))}}},385:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var i=t(366),n=t(367),c=t(12);class s{constructor(){this.fetchTarif=()=>e=>{n.a.get("/tarif",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e({type:c.k,payload:a.data.data})}))},this.updateTarif=(e,a)=>(a.preventDefault(),a=>{n.a.put("/tarif",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.l}),a({type:c.r}),i.b.success("Edit Data Tarif Gigi Sukses")})).catch((e=>{i.b.error(e.response.data.message)}))}),this.insertTarif=(e,a)=>(a.preventDefault(),a=>{n.a.post("/tarif",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),a({type:c.l}),i.b.success("Tambah Data Tarif Gigi Sukses")})).catch((e=>{console.log(e)}))}),this.deleteTarif=e=>{if(window.confirm("Anda yakin ingin menghapus data tarif ?"))return a=>{n.a.delete("/tarif/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),i.b.success("Hapus Data Tarif Gigi Sukses")})).catch((e=>{i.b.error(e.response.data.message)}))}}}}},387:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var i=t(366),n=t(367),c=t(12);class s{constructor(){this.fetchTeknisi=()=>e=>{n.a.get("/teknisi",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e({type:c.o,payload:a.data.data})}))},this.insertTeknisi=(e,a)=>(a.preventDefault(),a=>{n.a.post("/teknisi",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),a({type:c.p}),i.b.success("Tambah Teknisi Sukses")})).catch((e=>i.b.error(e.response.data.message)))}),this.deleteTeknisi=e=>{if(window.confirm("Anda yakin ingin menghapus data teknisi ?"))return a=>{n.a.delete("/teknisi/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),i.b.success("Berhasil Menghapus Data Teknisi")}))}},this.updateTeknisi=(e,a)=>(a.preventDefault(),a=>{n.a.put("/teknisi",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((()=>{a({type:c.r}),a({type:c.p}),i.b.success("Edit Data Teknisi Sukses")})).catch((e=>i.b.error(e.response.data.message)))})}}},595:function(e,a,t){"use strict";t.r(a);var i=t(386),n=t(421);const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M420,128.1V16H92V128.1A80.1,80.1,0,0,0,16,208V400H84V368H48V208a48.054,48.054,0,0,1,48-48H416a48.054,48.054,0,0,1,48,48V368H420v32h76V208A80.1,80.1,0,0,0,420,128.1Zm-32-.1H124V48H388Z' class='ci-primary'/><rect width='32' height='32' x='396' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M116,264H76v32h40V496H388V296h40V264H116ZM356,464H148V296H356Z' class='ci-primary'/>"];var s=t(369),r=t(365),l=t(1),o=t(124),d=t(420),h=t.n(d),j=t(374),u=t(387),b=t(385),p=t(12),g=t(24);var m=function(){const e=Object(o.c)((e=>e.antrian.modal.rincian)),a=Object(o.c)((e=>e.antrian.modal.show)),t=Object(o.c)((e=>e.teknisi.data)),i=Object(o.c)((e=>e.tarif.data)),n=Object(o.c)((e=>e.pelayanan.data)),c=Object(o.b)(),s=new j.a;return console.log(e),Object(g.jsxs)(r.H,{visible:a,onClose:()=>c({type:p.c}),children:[Object(g.jsx)(r.K,{onClose:()=>c({type:p.c}),children:Object(g.jsx)(r.L,{children:"Edit Rincian Biaya"})}),Object(g.jsxs)(r.t,{onSubmit:a=>{a.preventDefault(),c(s.updateAntrian(e))},children:[Object(g.jsx)(r.I,{children:Object(g.jsx)(r.S,{children:Object(g.jsxs)(r.l,{children:[Object(g.jsxs)(r.v,{className:"mb-3",children:[Object(g.jsx)(r.w,{id:"nama",value:e.nama,name:"nama",placeholder:"Nama Pasien",disabled:!0}),Object(g.jsx)(r.x,{children:"Nama Pasien"})]}),Object(g.jsxs)(r.v,{className:"mb-3",children:[Object(g.jsxs)(r.y,{value:null===(null===e||void 0===e?void 0:e.id_teknisi)?"":e.id_teknisi,onChange:a=>c({type:p.i,payload:{...e,id_teknisi:a.target.value}}),children:[Object(g.jsx)("option",{children:"Pilih Teknisi"}),null===t||void 0===t?void 0:t.map((e=>Object(g.jsx)("option",{value:e.id_teknisi,children:e.nama},e.id_teknisi)))]}),Object(g.jsx)(r.x,{children:"Teknisi"})]}),Object(g.jsxs)(r.v,{className:"mb-3",children:[Object(g.jsxs)(r.y,{value:null===(null===e||void 0===e?void 0:e.id_pelayanan)?"":e.id_pelayanan,onChange:a=>{2==a.target.value?c({type:p.i,payload:{...e,id_pelayanan:a.target.value,id_tarif:""}}):c({type:p.i,payload:{...e,id_pelayanan:a.target.value}})},children:[Object(g.jsx)("option",{children:"Pilih Jenis Pelayanan"}),null===n||void 0===n?void 0:n.map((e=>Object(g.jsx)("option",{value:e.id_pelayanan,children:e.jenis_pelayanan},e.id_pelayanan)))]}),Object(g.jsx)(r.x,{children:"Jenis Pelayanan"})]}),(1==e.id_pelayanan||3==e.id_pelayanan)&&Object(g.jsxs)(r.v,{className:"mb-3",children:[Object(g.jsxs)(r.y,{value:null===(null===e||void 0===e?void 0:e.id_tarif)?"":e.id_tarif,onChange:a=>{c({type:p.i,payload:{...e,id_tarif:a.target.value}})},children:[Object(g.jsx)("option",{children:"Pilih Tarif Gigi"}),null===i||void 0===i?void 0:i.map((e=>Object(g.jsxs)("option",{value:e.id_tarif,children:["Rp. ",e.tarif_gigi]},e.id_tarif)))]}),Object(g.jsx)(r.x,{children:"Tarif Gigi"})]}),Object(g.jsxs)(r.v,{children:[Object(g.jsx)(r.w,{id:"jumlah_gigi",value:e.jumlah_gigi,type:"number",name:"jumlah_gigi",onChange:a=>{c({type:p.i,payload:{...e,jumlah_gigi:a.target.value}})},placeholder:"Jumlah Gigi"}),Object(g.jsx)(r.x,{children:"Jumlah Gigi"})]})]})})}),Object(g.jsx)(r.J,{children:Object(g.jsx)(r.e,{type:"submit",children:"Simpan"})})]})]})},x=t(367);class O{fetchPelayanan(){return e=>x.a.get("/pelayanan",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((a=>{e({type:p.h,payload:a.data.data})}))}}a.default=function(){var e=new Date;const[a,t]=Object(l.useState)(e.toLocaleDateString("en-CA")),d=Object(o.b)(),x=Object(o.c)((e=>e.update)),y=Object(o.c)((e=>e.antrian.data)),v=Object(o.c)((e=>e.antrian.rincian)),f=new j.a,_=new u.a,k=new b.a,w=new O;return Object(l.useEffect)((()=>{d(f.fetchAntrian(a))}),[a,x]),Object(l.useEffect)((()=>{d(_.fetchTeknisi()),d(w.fetchPelayanan()),d(k.fetchTarif())}),[]),Object(g.jsxs)(r.S,{children:[Object(g.jsx)(m,{}),Object(g.jsx)(r.l,{xs:12,children:Object(g.jsxs)(r.g,{children:[Object(g.jsxs)(r.k,{children:[Object(g.jsx)(r.S,{className:"justify-content-between align-items-center",children:Object(g.jsx)(r.l,{xs:8,children:Object(g.jsx)("strong",{children:"List Rincian Biaya"})})}),Object(g.jsx)(r.S,{className:"mt-3 mb-3",children:Object(g.jsx)(r.l,{children:Object(g.jsx)(r.w,{type:"date",value:a,onChange:e=>t(e.target.value)})})})]}),Object(g.jsx)(r.h,{children:Object(g.jsxs)(r.ab,{responsive:"md",hover:!0,children:[Object(g.jsx)(r.db,{children:Object(g.jsxs)(r.fb,{children:[Object(g.jsx)(r.eb,{scope:"row",children:"No."}),Object(g.jsx)(r.eb,{scope:"row",children:"No. Pendaftaran"}),Object(g.jsx)(r.eb,{scope:"row",children:"Nama"}),Object(g.jsx)(r.eb,{scope:"row",children:"Teknisi"}),Object(g.jsx)(r.eb,{scope:"row",children:"Jenis Pelayanan"}),Object(g.jsx)(r.eb,{scope:"row",children:"Tarif Gigi"}),Object(g.jsx)(r.eb,{scope:"row",children:"Jumlah Gigi"}),Object(g.jsx)(r.eb,{scope:"row",children:"Total Biaya"}),Object(g.jsx)(r.eb,{scope:"row",children:"Status"}),Object(g.jsx)(r.eb,{scope:"row"})]})}),Object(g.jsx)(r.bb,{children:y.length>0?null===y||void 0===y?void 0:y.map(((e,a)=>{var t,l,o,j;return Object(g.jsxs)(r.fb,{children:[Object(g.jsx)(r.eb,{scope:"col",children:++a}),Object(g.jsx)(r.cb,{children:null===e||void 0===e?void 0:e.nomor_pendaftaran}),Object(g.jsx)(r.cb,{children:null===(t=e.pasien)||void 0===t?void 0:t.nama}),Object(g.jsx)(r.cb,{children:null===(l=e.teknisi)||void 0===l?void 0:l.nama}),Object(g.jsx)(r.cb,{children:null===(o=e.pelayanan)||void 0===o?void 0:o.jenis_pelayanan}),Object(g.jsx)(r.cb,{children:Object(g.jsx)(h.a,{value:null===(j=e.tarif)||void 0===j?void 0:j.tarif_gigi,thousandSeparator:!0,displayType:"text",prefix:"Rp. "})}),Object(g.jsx)(r.cb,{children:null===e||void 0===e?void 0:e.jumlah_gigi}),Object(g.jsx)(r.cb,{children:Object(g.jsx)(h.a,{value:null!=e.total_biaya?e.total_biaya:0,thousandSeparator:!0,displayType:"text",prefix:"Rp. "})}),Object(g.jsx)(r.cb,{children:1===(null===e||void 0===e?void 0:e.id_status)?Object(g.jsx)(r.b,{color:"primary",shape:"rounded-pill",children:e.status.jenis_status}):2===e.id_status?Object(g.jsx)(r.b,{color:"secondary",shape:"rounded-pill",children:e.status.jenis_status}):3===e.id_status?Object(g.jsx)(r.b,{color:"success",shape:"rounded-pill",children:e.status.jenis_status}):Object(g.jsx)(r.b,{color:"danger",shape:"rounded-pill",children:e.status.jenis_status})}),Object(g.jsx)(r.cb,{children:Object(g.jsxs)(r.n,{children:[Object(g.jsx)(r.r,{color:"light",children:Object(g.jsx)(s.a,{icon:i.a})}),Object(g.jsxs)(r.q,{children:[Object(g.jsxs)(r.p,{role:"button",onClick:()=>{d({type:p.i,payload:{...v,id_antrian:e.id_antrian,id_status:e.id_status,id_pelayanan:null===e||void 0===e?void 0:e.id_pelayanan,id_teknisi:null===e||void 0===e?void 0:e.id_teknisi,id_tarif:null===e||void 0===e?void 0:e.id_tarif,jumlah_gigi:null===e||void 0===e?void 0:e.jumlah_gigi,nama:e.pasien.nama}}),d({type:p.d})},children:[Object(g.jsx)(s.a,{icon:n.a,className:"me-2"}),"Edit Rincian Biaya"]}),Object(g.jsxs)(r.p,{disabled:3!==e.id_status,role:"button",onClick:()=>f.cetakKwitansi(e.id_antrian),children:[Object(g.jsx)(s.a,{icon:c,className:"me-2"}),"Cetak Kwitansi"]})]})]})})]},a)})):Object(g.jsx)(r.fb,{children:Object(g.jsx)(r.cb,{colSpan:12,children:Object(g.jsx)("h4",{className:"text-center",children:"Data Tidak Ada"})})})})]})})]})})]})}}}]);
//# sourceMappingURL=13.90d608f7.chunk.js.map