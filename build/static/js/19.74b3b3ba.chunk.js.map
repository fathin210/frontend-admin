{"version":3,"sources":["controller/Pasien/PasienController.js","views/pages/pasien/TambahPasien.js"],"names":["PasienController","fetchPasien","page","dispatch","api","get","headers","Authorization","localStorage","getItem","then","res","type","PASIEN_GET_DATA_SUCCESS","payload","data","catch","error","toast","response","message","detailPasien","PASIEN_DETAIL","searchPasien","insertPasien","history","post","push","nomor_pasien","success","e","deletePasien","id_pasien","window","confirm","delete","UPDATE_PAGE","cetakKartu","open","updatePasien","put","CreatePasienSchema","Yup","shape","nama","required","alamat","jenis_kelamin","max","no_telepon","min","TambahPasien","validated","setValidated","useState","useHistory","pasienController","formik","useFormik","initialValues","validationSchema","onSubmit","value","console","log","toString","charAt","substring","className","xs","md","handleSubmit","noValidate","gutterY","id","name","values","onChange","handleChange","placeholder","touched","Boolean","errors","invalid","valid","options","label"],"mappings":"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","file":"static/js/19.74b3b3ba.chunk.js","sourcesContent":["import { toast } from 'react-toastify'\nimport api from 'src/api/api'\nimport { PASIEN_DETAIL, PASIEN_GET_DATA_SUCCESS, UPDATE_PAGE } from 'src/redux/actionTypes'\n\nexport class PasienController {\n  fetchPasien(page) {\n    return (dispatch) => {\n      api\n        .get(`/pasien?page=${page}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_GET_DATA_SUCCESS,\n            payload: res.data.data,\n          })\n        })\n        .catch((error) => {\n          toast.error(error.response.data.message)\n        })\n    }\n  }\n\n  detailPasien(data) {\n    return (dispatch) => {\n      api\n        .get(`/pasien/${data}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_DETAIL,\n            payload: res.data.data,\n          })\n        })\n    }\n  }\n\n  searchPasien(data) {\n    return (dispatch) => {\n      api\n        .get(`/pasien/cari?search=${data}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        })\n        .then((res) => {\n          dispatch({\n            type: PASIEN_GET_DATA_SUCCESS,\n            payload: res.data.data,\n          })\n        })\n        .catch((error) => {\n          toast.error(error.response.data.message)\n        })\n    }\n  }\n\n  insertPasien(data, history) {\n    api\n      .post('/pasien', data, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then((res) => {\n        history.push(`/pasien?nomor_pasien=${res.data.data.nomor_pasien}`)\n        toast.success('Tambah Pasien Sukses')\n      })\n      .catch((e) => {\n        toast.error(e.response.data.message)\n      })\n  }\n\n  deletePasien(id_pasien) {\n    if (window.confirm('Anda yakin ingin menghapus data pasien ?')) {\n      return (dispatch) => {\n        api\n          .delete(`/pasien/${id_pasien}`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n            },\n          })\n          .then(() => {\n            dispatch({ type: UPDATE_PAGE })\n            toast.success('Berhasil Menghapus Data Pasien')\n          })\n      }\n    }\n  }\n\n  cetakKartu(id_pasien) {\n    window.open(`https://api-setiakawan.gazebo-skripsi.my.id/api/pasien/cetak/${id_pasien}`)\n  }\n\n  updatePasien(data, history) {\n    api\n      .put(`/pasien/${data.id_pasien}`, data, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        },\n      })\n      .then(() => {\n        history.push('/pasien')\n        toast.success('Ubah Data Pasien Sukses')\n      })\n      .catch((e) => {\n        toast.error(e.response.data.message)\n      })\n  }\n}\n","import {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormFeedback,\n  CFormFloating,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CRow,\n} from '@coreui/react'\nimport { useFormik } from 'formik'\nimport React from 'react'\nimport { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min'\nimport { PasienController } from 'src/controller/Pasien/PasienController'\nimport * as Yup from 'yup'\n\nconst CreatePasienSchema = Yup.object().shape({\n  nama: Yup.string().required('Field Nama harus diisi!'),\n  alamat: Yup.string().required('Field Alamat harus diisi!'),\n  jenis_kelamin: Yup.string()\n    .max(1, 'Isi field terlalu panjang')\n    .required('Field Jenis Kelamin harus diisi!'),\n  no_telepon: Yup.number()\n    .min(9999999999, 'Nomor Harus Lebih Dari 10 Karakter')\n    .max(9999999999999, 'Nomor Harus Kurang Dari 13 Karakter')\n    .required('Field Nomor Telepon harus diisi!'),\n})\n\nfunction TambahPasien() {\n  const [validated, setValidated] = useState(false)\n  const history = useHistory()\n  const pasienController = new PasienController()\n\n  const formik = useFormik({\n    initialValues: {\n      nama: '',\n      alamat: '',\n      jenis_kelamin: 'L',\n      no_telepon: '',\n    },\n    validationSchema: CreatePasienSchema,\n    onSubmit: (value) => {\n      console.log(value)\n      setValidated(true)\n      if (value.no_telepon.toString().charAt(0) == '0') {\n        value = {\n          ...value,\n          no_telepon: value.no_telepon.substring(1),\n        }\n        console.log(value.no_telepon)\n      }\n      pasienController.insertPasien(value, history)\n    },\n  })\n\n  return (\n    <CRow className=\"justify-content-center\">\n      <CCol xs={12} md={8}>\n        <CCard>\n          <CCardHeader>Formulir Tambah Pasien</CCardHeader>\n          <CCardBody>\n            <CForm\n              onSubmit={(e) => {\n                setValidated(true)\n                formik.handleSubmit(e)\n              }}\n              noValidate\n              validated={validated}\n            >\n              <CRow className=\"mb-3\" xs={{ gutterY: 3 }}>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormInput\n                      id=\"nama\"\n                      name=\"nama\"\n                      value={formik.values.nama}\n                      onChange={formik.handleChange}\n                      placeholder=\"Nama Pasien\"\n                      required\n                    />\n                    <CFormLabel>Nama Pasien</CFormLabel>\n                    {formik.touched.nama && Boolean(formik.errors.nama) ? (\n                      <CFormFeedback invalid>{formik.errors.nama}</CFormFeedback>\n                    ) : (\n                      <CFormFeedback valid>Nama sudah valid</CFormFeedback>\n                    )}\n                  </CFormFloating>\n                </CCol>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormInput\n                      name=\"alamat\"\n                      placeholder=\"Alamat\"\n                      value={formik.values.alamat}\n                      onChange={formik.handleChange}\n                      required\n                    />\n                    <CFormLabel>Alamat</CFormLabel>\n                    {formik.touched.alamat && Boolean(formik.errors.alamat) ? (\n                      <CFormFeedback invalid>{formik.errors.alamat}</CFormFeedback>\n                    ) : (\n                      <CFormFeedback valid>Alamat sudah valid</CFormFeedback>\n                    )}\n                  </CFormFloating>\n                </CCol>\n              </CRow>\n              <CRow xs={{ gutterY: 3 }}>\n                <CCol xs={12} md={6}>\n                  <CFormFloating>\n                    <CFormSelect\n                      name=\"jenis_kelamin\"\n                      value={formik.values.jenis_kelamin}\n                      onChange={formik.handleChange}\n                      options={[\n                        { label: 'Laki-laki', value: 'L' },\n                        { label: 'Perempuan', value: 'P' },\n                      ]}\n                    ></CFormSelect>\n                    <CFormLabel>Jenis Kelamin</CFormLabel>\n                    {formik.touched.jenis_kelamin && Boolean(formik.errors.jenis_kelamin) ? (\n                      <CFormFeedback invalid>{formik.errors.jenis_kelamin}</CFormFeedback>\n                    ) : (\n                      <CFormFeedback valid>Jenis Kelamin sudah valid</CFormFeedback>\n                    )}\n                  </CFormFloating>\n                </CCol>\n                <CCol xs={12} md={6}>\n                  <CFormFloating className=\"mb-3\">\n                    <CFormInput\n                      name=\"no_telepon\"\n                      type=\"number\"\n                      value={formik.values.no_telepon}\n                      onChange={formik.handleChange}\n                      min={9999999999}\n                      max={9999999999999}\n                      required\n                      placeholder=\"Nomor Telepon\"\n                    />\n                    <CFormLabel>Nomor Telepon</CFormLabel>\n                    {formik.touched.no_telepon && Boolean(formik.errors.no_telepon) ? (\n                      <CFormFeedback invalid>{formik.errors.no_telepon}</CFormFeedback>\n                    ) : (\n                      <CFormFeedback valid>Nomor Telepon sudah valid</CFormFeedback>\n                    )}\n                  </CFormFloating>\n                </CCol>\n              </CRow>\n              <CRow>\n                <CCol>\n                  <div className=\"d-grid\">\n                    <CButton type=\"submit\">Simpan Data</CButton>\n                  </div>\n                </CCol>\n              </CRow>\n            </CForm>\n          </CCardBody>\n        </CCard>\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default TambahPasien\n"],"sourceRoot":""}